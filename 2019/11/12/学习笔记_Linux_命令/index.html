<!DOCTYPE html><html class="theme-next pisces use-motion" lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2"><link rel="stylesheet" href="/css/main.css?v=7.1.2"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.2"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.2"><link rel="mask-icon" href="/images/logo.svg?v=7.1.2" color="#222"><script id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Pisces",version:"7.1.2",sidebar:{position:"left",display:"post",offset:12,onmobile:!1,dimmer:!1},back2top:!0,back2top_sidebar:!0,fancybox:!1,fastclick:!1,lazyload:!1,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><script></script><meta name="description" content="正好赶上这门儿课程     Linux主流的操作方式"><meta name="keywords" content="学习笔记,linux"><meta property="og:type" content="article"><meta property="og:title" content="学习笔记_Linux_Linux相关命令"><meta property="og:url" content="http://yoursite.com/2019/11/12/学习笔记_Linux_命令/index.html"><meta property="og:site_name" content="但行好事,莫问前程"><meta property="og:description" content="正好赶上这门儿课程     Linux主流的操作方式"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2019-11-15T08:27:09.116Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="学习笔记_Linux_Linux相关命令"><meta name="twitter:description" content="正好赶上这门儿课程     Linux主流的操作方式"><link rel="canonical" href="http://yoursite.com/2019/11/12/学习笔记_Linux_命令/"><script id="page.configurations">CONFIG.page={sidebar:""}</script><title>学习笔记_Linux_Linux相关命令 | 但行好事,莫问前程</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-title,.use-motion .comments,.use-motion .menu-item,.use-motion .motion-element,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><script type="text/javascript" src="/js/src/clicklove.js"></script><body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div> <a href="https://github.com/RobotWuYun" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">但行好事,莫问前程</span><span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">记录学习的技能和遇到的问题</p></div><div class="site-nav-toggle"> <button aria-label="切换导航栏"><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i></span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"> <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/12/学习笔记_Linux_命令/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="上课睡觉觉"><meta itemprop="description" content="keep learning"><meta itemprop="image" content="/image/headPic.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="但行好事,莫问前程"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">学习笔记_Linux_Linux相关命令</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-11-12 10:13:13" itemprop="dateCreated datePublished" datetime="2019-11-12T10:13:13+08:00">2019-11-12</time> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2019-11-15 16:27:09" itemprop="dateModified" datetime="2019-11-15T16:27:09+08:00">2019-11-15</time></span> <span class="post-category"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/大数据学习笔记/" itemprop="url" rel="index"><span itemprop="name">大数据学习笔记</span></a></span></span> <span class="post-comments-count"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i></span> <span class="post-meta-item-text">评论数：</span><a href="/2019/11/12/学习笔记_Linux_命令/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2019/11/12/学习笔记_Linux_命令/" itemprop="commentCount"></span></a></span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-eye"></i> 热度：<span class="busuanzi-value" id="busuanzi_value_page_pv"></span> <span>℃</span></span></div></header><div class="post-body" itemprop="articleBody"><center> 正好赶上这门儿课程<br> Linux主流的操作方式</center><a id="more"></a><h3 id="命令相关概念"><a href="#命令相关概念" class="headerlink" title="命令相关概念"></a>命令相关概念</h3><p>命令提示符：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#     #/root</span><br><span class="line"></span><br><span class="line">[chenzhe@localhost ~]$    #/home/chenzhe</span><br></pre></td></tr></table></figure><p>从上面两个命令提示符可以看的出来中括号后的符号不同，其中#表示超级权限(管理员/root)，$表示普通用户的权限</p><p>中括号中的内容分别是：</p><table><thead><tr><th align="center">内容</th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">root | chenzhe</td><td align="center">登录的账户名称</td></tr><tr><td align="center">@localhost</td><td align="center">主机名</td></tr><tr><td align="center">~</td><td align="center">表示当前账户的家目录</td></tr></tbody></table><h4 id="命令格式："><a href="#命令格式：" class="headerlink" title="命令格式："></a>命令格式：</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">命令 选项 参数</span><br></pre></td></tr></table></figure><blockquote><p>命令、选项、参数之间，<strong>必须有空格！</strong></p><p>执行的时候，命令本身必须存在，选项和参数可有可无。<br>选项和参数也可以有多个的存在。</p></blockquote><p>执行时，如果有多个选项，可以拼在一起写:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ls -a -l 可以写成</span><br><span class="line">ls -al</span><br></pre></td></tr></table></figure><p>执行时，如果有多个参数，参数之间必须有空格隔开</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls /root /etc</span><br></pre></td></tr></table></figure><p>执行时可以没有选项、参数的命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig</span><br></pre></td></tr></table></figure><p>执行是有参数的命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifup eth0</span><br></pre></td></tr></table></figure><h5 id="获取命令帮助："><a href="#获取命令帮助：" class="headerlink" title="获取命令帮助："></a>获取命令帮助：</h5><table><thead><tr><th align="center">方法</th><th align="center">好处</th></tr></thead><tbody><tr><td align="center">man</td><td align="center">man 命令，优点是，内核自带，缺点，大部分的帮助都是英文</td></tr><tr><td align="center">–help</td><td align="center">命令 –help 优点是：部分命令提供中文，缺点：不是所有的命令都有这个帮助文件</td></tr><tr><td align="center">命令大全手册</td><td align="center"></td></tr><tr><td align="center">问度娘</td><td align="center"></td></tr></tbody></table><h4 id="和目录相关的命令"><a href="#和目录相关的命令" class="headerlink" title="和目录相关的命令:"></a>和目录相关的命令:</h4><table><thead><tr><th align="center">命令</th><th align="center">作用及参数</th></tr></thead><tbody><tr><td align="center">pwd</td><td align="center">用于显示当前所在的完整路径</td></tr><tr><td align="center">mkdir</td><td align="center">用于创建一个目录。 -p 该选项用于创建多级目录。</td></tr><tr><td align="center">cd</td><td align="center">用于切换目录 | 路径 . 表示当前目录 .. 表示上级(父级)目录 ~ 表示用户的家目录，如果在~跟用户名，就表示要去到该用户的家目录。 “-“ 表示与上次所在目录进行切换。 相对路径：相对于当前所在位置而出发的路径。 绝对路径：以/(根目录)开始的路径。</td></tr><tr><td align="center">ls</td><td align="center">用于显示目录 | 文件的信息 -a：显示所有的文件夹内容(包括隐藏) -l：用于显示文件/夹的详细信息 -h：与-l配合使用，可以显示文件的体积大小(自适应单位b,k,m,g …) -d：跟上指定的目录时，就会显示该目录的信息，不会显示目录下的文件</td></tr></tbody></table><p><strong>mkdir案例</strong>：</p><p>​ mkdir 默认只能创建一个级别的目录，如果想要创建多级目录时，需要配合-p选项来使用</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir /root/1/2/3/4/5</span><br></pre></td></tr></table></figure><p>此命令必然失败，因为mkdir默认不支持多级目录,需要这样:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /root/1/2/3/4/5</span><br></pre></td></tr></table></figure><p><strong>cd 案例：</strong></p><p>进入指定用户(zhangssan)的家目录</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~zhangsan</span><br></pre></td></tr></table></figure><p>去到/root/目录下(说明：当前在/etc/sysconfig/network-scripts/)</p><p>相对路径：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ../../../root</span><br></pre></td></tr></table></figure><p>绝对路径：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /root</span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">命令</th><th align="center">作用即参数</th></tr></thead><tbody><tr><td align="center">cp</td><td align="center">语法：cp [path]/file1 [path]/file2 用于copy(拷贝)文件/夹的命令 如果<strong>拷贝的是一个文件夹</strong>时，需要配合选项<strong>-r</strong>来使用</td></tr><tr><td align="center">mv</td><td align="center">语法：mv [path]/file [path]/ 改名：mv fileName1 fileName2</td></tr><tr><td align="center">touch</td><td align="center">用于创建一个空白的文本文件，也可以修改文件/夹的时间戳</td></tr><tr><td align="center">rm</td><td align="center">-r 表示递归处理 -f 表示强制执行</td></tr><tr><td align="center">rmdir</td><td align="center">用于删除目录使用，但只能删除空目录。</td></tr></tbody></table><p><strong>案例：</strong></p><p>拷贝一个文件到别的目录：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /root/install.log /home</span><br></pre></td></tr></table></figure><p>拷贝整个目录到其它目录下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp -r /root/ /home/  # 将root目录拷贝到home目录下</span><br><span class="line">cp -r /root/* /home  # 将root目录下的所有内容拷贝到/home目录下</span><br></pre></td></tr></table></figure><p>移动文件和修改名称</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mv /home/install.log /tmp  # 移动了文件到/tmp目录下</span><br><span class="line">mv /tmp/install.log /home/1 # 移动/tmp目录下的install文件到/home目录下，并同时修改文件名为"1"</span><br></pre></td></tr></table></figure><table><thead><tr><th>命令</th><th>用法及参数</th></tr></thead><tbody><tr><td>rename</td><td>语法：rename 修改谁 改成啥样 谁符合条件 批量改名 ? 代表一个字符 ?? 代表两个字符</td></tr></tbody></table><p><strong>案例：</strong></p><p>通过修改文件名称让文件可以得到一个正确的排序(升序)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch foo&#123;1..199&#125;</span><br></pre></td></tr></table></figure><p><strong>语法：</strong>rename 修改谁 改成是样 谁符合条件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename foo foo0 foo?</span><br></pre></td></tr></table></figure><blockquote><p> 修改之后文件名foo1..foo9就变成foo01..foo09</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename foo foo0 foo??</span><br></pre></td></tr></table></figure><blockquote><p> 修改之后文件名foo01..foo99就变成了foo001..foo099</p></blockquote><p>此时就完成了文件的排序</p><h4 id="运行级别"><a href="#运行级别" class="headerlink" title="运行级别:"></a>运行级别:</h4><p><strong>级别：</strong></p><table><thead><tr><th align="center">代码</th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">关机</td></tr><tr><td align="center">1</td><td align="center">单用户 # 注意该模式下不提供网络连接，所以无法使用超级终端进行连接。</td></tr><tr><td align="center">2</td><td align="center">无网络多用户</td></tr><tr><td align="center">3</td><td align="center">命令行模式</td></tr><tr><td align="center">4</td><td align="center">官方预留，未定义内容</td></tr><tr><td align="center">5</td><td align="center">图形化模式</td></tr><tr><td align="center">6</td><td align="center">重启</td></tr></tbody></table><p><strong>如何进行运行级别的切换：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">init 运行级别的数字</span><br></pre></td></tr></table></figure><p><strong>修改默认的运行级别：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/inittab</span><br></pre></td></tr></table></figure><blockquote><p> 在文件的最后一行内容中，将默认的5修改为3，就表示以后开机时以命令行模式运行。</p><p> <strong>注：</strong></p><p> 默认运行级别不要设置为0或6，因为Linux系统启动是，执行的第一个进程就是init。默认会去读取inittab配置文件</p></blockquote><p> <strong>如何进入单用户模式</strong></p><ol><li>在系统启动,进入 4 秒等待时,敲击回车或方向键</li><li>出现CentOS…..,按字母e</li><li>然后选择kernel打头的,接着按e</li><li>进入有KEYTABLE=us的界面, 请输入 <code>空格 1</code>，输入完毕之后按一下 <code>Enter</code> 键</li><li>此时回回到步骤三的界面,按b</li></ol><p><strong>忘记root密码后怎么办?</strong></p><p>可以通过上面的案例进入单用户模式：</p><p>进入单用户模式的步骤省略~</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd    # 修改root账户的密码</span><br></pre></td></tr></table></figure><h4 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理:"></a>用户管理:</h4><p>在Linux的系统中有如下几个概念:</p><p><strong>用户,用户组,其他人</strong></p><p>用我们家庭的关系比喻可以这样理解:</p><table><thead><tr><th align="center">概念</th><th align="center">比喻</th></tr></thead><tbody><tr><td align="center">用户</td><td align="center">一个户口本中的每一个成员</td></tr><tr><td align="center">用户组</td><td align="center">户口本中的所有成员组成的一个组</td></tr><tr><td align="center">其他人</td><td align="center">除用户本人(户主)和用户组(户口本中的成员)外的成员都是其他人</td></tr></tbody></table><blockquote><p><strong>注:</strong></p><p>每一个用户都可以拥有多个用户组。</p><p>每一个用户组都可以容纳多个用户。</p></blockquote><h5 id="用户及UID"><a href="#用户及UID" class="headerlink" title="用户及UID"></a>用户及UID</h5><p>在Linux系统中，每一个用户默认都对应了一个UID，而这个UID可以理解是用户的身份证号。</p><p>CentOS系统中：</p><table><thead><tr><th align="center">UID</th><th align="center">用户</th></tr></thead><tbody><tr><td align="center">UID 0</td><td align="center">root</td></tr><tr><td align="center">UID 1-499</td><td align="center">系统预留，作为系统用户来使用</td></tr><tr><td align="center">UID 500 - 65535</td><td align="center">自定义账户 (注意，此处仅指的是CentOS6.5系统，其他系统的自定义账户则不一定是从500开始，例如Ubuntu系统是从1000开始。)</td></tr></tbody></table><h5 id="用户信息存储的位置："><a href="#用户信息存储的位置：" class="headerlink" title="用户信息存储的位置："></a>用户信息存储的位置：</h5><table><thead><tr><th align="center">信息</th><th align="center">路径</th></tr></thead><tbody><tr><td align="center">用户信息</td><td align="center">/etc/passwd</td></tr><tr><td align="center">密码信息</td><td align="center">/etc/shadow</td></tr><tr><td align="center">用户组信息</td><td align="center">/etc/group</td></tr></tbody></table><blockquote><p><strong>注:</strong></p><p>passwd、shadows、group这三个文件不要随意的进行修改，如果想要进行文件内容的查看，建议大家copy出一份，对copy的文件进行修改。</p><p>或</p><p>把文件copy出来之后，进行保存，再去修改原文件。这样做即便是写错了文件也可以通过单用户的方式将文件恢复。</p></blockquote><h5 id="相关命令"><a href="#相关命令" class="headerlink" title="相关命令:"></a>相关命令:</h5><blockquote><p>就是用于对passwd,shadow,group三个文件的增删改.</p></blockquote><p>新建的用户，默认的情况下是无法登录的。</p><p>创建一个用户的时候，默认情况下，会为其创建一个同名的用户组</p><h6 id="创建："><a href="#创建：" class="headerlink" title="创建："></a><strong>创建：</strong></h6><p><strong>语法：</strong><code>useradd [选项] {UserName}</code></p><p>选项：</p><table><thead><tr><th>-c comment</th><th>指定一段注释性描述</th></tr></thead><tbody><tr><td>-d 目录</td><td>指定用户主目录，如果目录不存在，则同时使用-m选项，可以创建主目录。</td></tr><tr><td>-g 用户组</td><td>指定用户所属的主用户组。</td></tr><tr><td>-G 用户组,用户组</td><td>指定用户所属的附加组。</td></tr><tr><td>-s Shell文件</td><td>指定用户的登录Shell。有一个特殊的shell程序叫nologin，如果某帐号使用此shell，就表示用户不允许登录，该用户通常成为<strong>伪用户</strong>。</td></tr><tr><td>-u 用户号</td><td>指定用户的用户号</td></tr></tbody></table><p><strong>案例:</strong></p><p>创建一个普通用户，使用默认值即可。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd tom</span><br></pre></td></tr></table></figure><blockquote><p> 说明：该账户被创建完之后，会有哪些信息</p><ol><li><p>UID，由于是当前系统的第一个账户，那么它的UID是500。</p></li><li><p>家目录(主目录)，因为是默认创建，所以它的家目录所在位置是/home/tom</p></li><li><p>用户组，创建用户的同时，会为其创建一个同名的用户组，tom组</p></li></ol></blockquote><p>创建一个普通用户，其家目录是在/tedu/jerry，主组root,附加组tom,adm。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd -d /tedu/jerry -m -g root -G tom,adm jerry</span><br></pre></td></tr></table></figure><p>执行用户的shell程序为/bin/sh，UID为80000</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd -s /bin/sh -u 80000 test1</span><br></pre></td></tr></table></figure><blockquote><p>说明：虽然CentOS系统中默认的UID是65536个(0-65535)，但是可以手动指定它的UID超出此范围。</p></blockquote><p>测试再创建账户是UID会不会延续上案例的UID。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd test2</span><br></pre></td></tr></table></figure><p>正常来应该按照上次创建用户的UID往后+1。但是80000已超过系统默认的范围，所以不会根据超出范围后UID进行+1延续。</p><p>创建伪用户：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd -s /sbin/nologin test3</span><br></pre></td></tr></table></figure><h6 id="修改："><a href="#修改：" class="headerlink" title="修改："></a>修改：</h6><p><strong>语法：</strong><code>usermod [选项] {UserName}</code></p><table><thead><tr><th align="center">选项</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">-c comment</td><td align="center">指定一段注释性描述</td></tr><tr><td align="center">-d</td><td align="center">目录 指定用户主目录，如果目录不存在，则同时使用-m选项，可以创建主目录。</td></tr><tr><td align="center">-g 用户组</td><td align="center">指定用户所属的用户组。</td></tr><tr><td align="center">-G 用户组,用户组</td><td align="center">指定用户所属的附加组。如果想要在原有的基础上追加附加组，使用-aG的方式。</td></tr><tr><td align="center">-s Shell文件</td><td align="center">指定用户的登录Shell。有一个特殊的shell程序叫nologin，如果某帐号使用此shell，就表示用户不允许登录，该用户通常成为伪用户。</td></tr><tr><td align="center">-u 用户号</td><td align="center">指定用户的用户号</td></tr></tbody></table><p><strong>案例：</strong></p><p>修改test账户的UID。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod -u 9000 test1</span><br></pre></td></tr></table></figure><p>修改账户的附加组为test、test1：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod -G test,test1 jerry</span><br></pre></td></tr></table></figure><p>为账户追加附加组件root、adm</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod -aG root,adm jerry</span><br></pre></td></tr></table></figure><p>将test5的伪用户状态修改为正常普通用户</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod -s /bin/bash test5</span><br></pre></td></tr></table></figure><blockquote><p>说明：test5之前的shell程序是/sbin/nologin</p></blockquote><h6 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h6><p><strong>语法</strong>：<code>userdel [选项] {UserName}</code></p><p>选项：</p><table><thead><tr><th align="center">选项</th><th align="center">功能</th></tr></thead><tbody><tr><td align="center">-r</td><td align="center">删除账户的同时删除该账户的家目录</td></tr></tbody></table><p><strong>案例：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">userdel zhangsan</span><br></pre></td></tr></table></figure><blockquote><p> 说明：该命令执行完成之后，在home目录下依然保留了zhangsan的家目录。</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">userdel -r lisi</span><br></pre></td></tr></table></figure><blockquote><p> 说明：该命令之后之后，home目录中的lisi目录会被一并删除，且不保留它的工作文件。</p></blockquote><p>一般来说，公司中删除账户的操作比较少，就算删除账户时，一般也不用-r的选项，因为人虽然离职，但是有可能此人还会回来继续任职~</p><p>如果员工离职，完全没有必要删除账户，可以使账户无法登录即可，比如nologin，锁定账户，删除密码等手段都是可以防止资料泄漏。</p><blockquote><p><strong>注：</strong></p><p>Windows和Linux系统(其他系统没测试)，没有密码的账户都是不允许通过远程的方式进行访问的。</p></blockquote><h6 id="密码管理"><a href="#密码管理" class="headerlink" title="密码管理"></a>密码管理</h6><p><strong>语法</strong>：<code>passwd [选项] {UserName}</code></p><p>选项：</p><table><thead><tr><th align="center">选项</th><th align="center">功能</th></tr></thead><tbody><tr><td align="center">-l</td><td align="center">锁定账户</td></tr><tr><td align="center">-u</td><td align="center">解锁账户</td></tr><tr><td align="center">-d</td><td align="center">删除密码</td></tr></tbody></table><p>passwd 可以不跟选项、用户名，默认是修改自己的帐号密码。</p><p>修改他人密码，必须具备管理员权限(并不一定非要是root账户)</p><blockquote><p>普通账户，只能修改自己的密码。</p></blockquote><blockquote><p>管理员修改他人的密码，不需要满足密码策略。</p></blockquote><blockquote><p>普通账户修改密码时，必须满足密码安全策略。</p></blockquote><p>管理员修改他人密码：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd &#123;UserName&#125;</span><br></pre></td></tr></table></figure><p>修改自己的密码</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure><p><strong>案例：</strong></p><p>锁定zhangsan账户</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd -l zhangsan</span><br></pre></td></tr></table></figure><p>解锁zhangsan账户</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd -u zhangsan</span><br></pre></td></tr></table></figure><p>删除zhangsan账户密码</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd -d zhangsan</span><br></pre></td></tr></table></figure><p>案例中，锁定账户和删除账户密码都是可以达到不允许账户远程登录的效果。</p><h6 id="用户身份切换"><a href="#用户身份切换" class="headerlink" title="用户身份切换"></a><strong>用户身份切换</strong></h6><table><thead><tr><th align="center">命令</th><th align="center">功能</th></tr></thead><tbody><tr><td align="center">su {UserName}</td><td align="center">表示切换用户之后，依然停留在当前目录</td></tr><tr><td align="center">su - {UserName}</td><td align="center">表示切换用户之后，去到该用户的家目录</td></tr></tbody></table><blockquote><p>普通用户切换root时，书写格式不需要写成su - root，直接su即可。</p></blockquote><p><strong>案例：</strong></p><p>当前位置，在/root下</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su zhangsan</span><br></pre></td></tr></table></figure><p>该命令执行过后，切换到zhangsan账户，但是路径依然停留在/root目录下</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su - zhangsan</span><br></pre></td></tr></table></figure><p>该命令执行过后，切换到zhangsan账户，同时会去到zhangsan账户的家目录下。</p><p><strong>小总结</strong>，su与账户名之间加不加”-“区别在于路径。</p><h4 id><a href="#" class="headerlink" title=" "></a></h4></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> 上课睡觉觉</li><li class="post-copyright-link"> <strong>本文链接：</strong> <a href="http://yoursite.com/2019/11/12/学习笔记_Linux_命令/" title="学习笔记_Linux_Linux相关命令">http://yoursite.com/2019/11/12/学习笔记_Linux_命令/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/学习笔记/" rel="tag"><i class="fa fa-tag"></i> # 学习笔记</a><a href="/tags/linux/" rel="tag"><i class="fa fa-tag"></i> # linux</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2019/11/11/学习笔记_Linux_初试Linux/" rel="next" title="学习笔记_Linux_初试Linux"><i class="fa fa-chevron-left"></i> 学习笔记_Linux_初试Linux</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"> <a href="/2019/11/13/学习笔记_SpringBoot_练手项目_1/" rel="prev" title="Java中的enum类">Java中的enum类<i class="fa fa-chevron-right"></i></a></div></div></footer></div></article></div></div><div class="comments" id="comments"></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap"> 文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap"> 站点概览</li></ul><div class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <a href="/"><img class="site-author-image" itemprop="image" src="/image/headPic.png" alt="上课睡觉觉"></a><p class="site-author-name" itemprop="name">上课睡觉觉</p><div class="site-description motion-element" itemprop="description">keep learning</div></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">48</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">11</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">52</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/RobotWuYun" title="GitHub &rarr; https://github.com/RobotWuYun" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i></a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-block"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> 推荐阅读</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"> <a href="http://how2j.cn/" title="http://how2j.cn/" rel="noopener" target="_blank">java</a></li><li class="links-of-blogroll-item"> <a href="http://blog.knownsec.com/Knownsec_RD_Checklist/index.html" title="http://blog.knownsec.com/Knownsec_RD_Checklist/index.html" rel="noopener" target="_blank">知道创宇技能树</a></li></ul></div></div></div><div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#命令相关概念"><span class="nav-number">1.</span> <span class="nav-text">命令相关概念</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#命令格式："><span class="nav-number">1.1.</span> <span class="nav-text">命令格式：</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#获取命令帮助："><span class="nav-number">1.1.1.</span> <span class="nav-text">获取命令帮助：</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#和目录相关的命令"><span class="nav-number">1.2.</span> <span class="nav-text">和目录相关的命令:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#运行级别"><span class="nav-number">1.3.</span> <span class="nav-text">运行级别:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#用户管理"><span class="nav-number">1.4.</span> <span class="nav-text">用户管理:</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#用户及UID"><span class="nav-number">1.4.1.</span> <span class="nav-text">用户及UID</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#用户信息存储的位置："><span class="nav-number">1.4.2.</span> <span class="nav-text">用户信息存储的位置：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#相关命令"><span class="nav-number">1.4.3.</span> <span class="nav-text">相关命令:</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#创建："><span class="nav-number">1.4.3.1.</span> <span class="nav-text">创建：</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#修改："><span class="nav-number">1.4.3.2.</span> <span class="nav-text">修改：</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#删除"><span class="nav-number">1.4.3.3.</span> <span class="nav-text">删除</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#密码管理"><span class="nav-number">1.4.3.4.</span> <span class="nav-text">密码管理</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#用户身份切换"><span class="nav-number">1.4.3.5.</span> <span class="nav-text">用户身份切换</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.5.</span><span class="nav-text"></span></a></li></ol></li></ol></div></div></div><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div><script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script><script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script><div class="widget-wrap"><h3 class="widget-title">Tag Cloud</h3><div id="myCanvasContainer" class="widget tagcloud"><canvas width="250" height="250" id="resCanvas" style=""><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDEA/">IDEA</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IO/">IO</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JDBC/">JDBC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JDK/">JDK</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JRE/">JRE</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/">JVM</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a><span class="tag-list-count">27</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Junit/">Junit</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Log4j/">Log4j</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Servlet/">Servlet</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/">SpringBoot</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringMVC/">SpringMVC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tomcat/">Tomcat</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Typora/">Typora</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/eclipse/">eclipse</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/helloworld/">helloworld</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/leecCode/">leecCode</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lombok/">lombok</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/">markdown</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/初级算法/">初级算法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/刷题/">刷题</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端/">前端</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/博客/">博客</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/反射机制/">反射机制</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/变量/">变量</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/后端/">后端</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/学习笔记/">学习笔记</a><span class="tag-list-count">27</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/异常处理/">异常处理</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/控制流程/">控制流程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/操作符/">操作符</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/教程/">教程</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数字与字符串/">数字与字符串</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数组/">数组</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/日期/">日期</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/泛型/">泛型</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/注解/">注解</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/深入浅出mysql/">深入浅出mysql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/笔记/">笔记</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/类和对象/">类和对象</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/线程/">线程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/练手项目/">练手项目</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/继承与接口/">继承与接口</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/读书笔记/">读书笔记</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/资源/">资源</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/集合框架/">集合框架</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/面向对象/">面向对象</a><span class="tag-list-count">1</span></li></ul></canvas></div></div></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2019</span><span class="with-love" id="animate"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">上课睡觉觉</span> <span class="post-meta-divider">|</span><div class="theme-info"><div class="powered-by"></div> <span class="post-count">博客全站共87.9k字</span> <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><br></div><script>var now=new Date;function createtime(){var n=new Date("6/4/2019 12:00:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML=" Runing "+dnum+" D ",document.getElementById("times").innerHTML=hnum+" H "+mnum+" M "+snum+" S"}setInterval("createtime()",250)</script><br></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="访客"><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span></div></div></footer></div><script>"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script src="/lib/jquery/index.js?v=2.1.3"></script><script src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script src="/js/utils.js?v=7.1.2"></script><script src="/js/motion.js?v=7.1.2"></script><script src="/js/affix.js?v=7.1.2"></script><script src="/js/schemes/pisces.js?v=7.1.2"></script><script src="/js/scrollspy.js?v=7.1.2"></script><script src="/js/post-details.js?v=7.1.2"></script><script src="/js/next-boot.js?v=7.1.2"></script><script src="//cdn1.lncld.net/static/js/3.11.1/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>var GUEST=["nick","mail","link"],guest="nick,mail,link";guest=guest.split(",").filter(function(e){return-1<GUEST.indexOf(e)}),new Valine({el:"#comments",verify:!0,notify:!0,appId:"307oukv7PLH0lFI21FdIyLQN-gzGzoHsz",appKey:"OxpbXXBsre8puGriAb0RuF3Y",placeholder:"欢迎交流讨论...",avatar:"mm",meta:guest,pageSize:"10",visitor:!1,lang:"zh-cn"})</script><script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script><script>
    
    function addCount(Counter) {
      var $visitors = $('.leancloud_visitors');
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();

      Counter('get', '/classes/Counter', { where: JSON.stringify({ url }) })
        .done(function({ results }) {
          if (results.length > 0) {
            var counter = results[0];
            
            Counter('put', '/classes/Counter/' + counter.objectId, JSON.stringify({ time: { '__op': 'Increment', 'amount': 1 } }))
            
              .done(function() {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.time + 1);
              })
            
              .fail(function ({ responseJSON }) {
                console.log('Failed to save Visitor num, with error message: ' + responseJSON.error);
              })
          } else {
            
              var $element = $(document.getElementById(url));
              $element.find('.leancloud-visitors-count').text('Counter not initialized! More info at console err msg.');
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .fail(function ({ responseJSON }) {
          console.log('LeanCloud Counter Error: ' + responseJSON.code + ' ' + responseJSON.error);
        });
    }
    

    $(function() {
      $.get('https://app-router.leancloud.cn/2/route?appId=' + '')
        .done(function({ api_server }) {
          var Counter = function(method, url, data) {
            return $.ajax({
              method: method,
              url: 'https://' + api_server + '/1.1' + url,
              headers: {
                'X-LC-Id': '',
                'X-LC-Key': '',
                'Content-Type': 'application/json',
              },
              data: data
            });
          };
          
            addCount(Counter);
          
        });
    });
  </script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/koharu.model.json"},display:{position:"right",width:150,height:300},mobile:{show:!0},log:!1})</script></body></html>